3.2.8. Encoder and decoder stacks